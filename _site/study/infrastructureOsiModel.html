<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>OSI Model ¬∑ glucolte</title>
  <meta name="description" content="notes ‚Ä¢ principles ‚Ä¢ systems">
  <link rel="stylesheet" href="/assets/style.css">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>OSI Model | glucolte</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="OSI Model" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="notes ‚Ä¢ principles ‚Ä¢ systems" />
<meta property="og:description" content="notes ‚Ä¢ principles ‚Ä¢ systems" />
<link rel="canonical" href="http://localhost:4000/study/infrastructureOsiModel" />
<meta property="og:url" content="http://localhost:4000/study/infrastructureOsiModel" />
<meta property="og:site_name" content="glucolte" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OSI Model" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"notes ‚Ä¢ principles ‚Ä¢ systems","headline":"OSI Model","url":"http://localhost:4000/study/infrastructureOsiModel"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
    <a class="brand" href="/">glucolte</a>
    <nav class="nav">
      <a href="/">home</a>
      <a href="/principles">principles</a>
      <a href="/rules">rules</a>
      <a href="/stretches">stretches</a>
      <a href="/study/">study</a>
      <a href="/projects/">projects</a>
      <a href="/setup/">setup</a>
    </nav>
  </header>

  <main class="container">
    <article class="content">
      <h1 id="osi-model">OSI Model</h1>

<p>The <strong>OSI (Open Systems Interconnection) Model</strong> is a conceptual framework that describes how data moves across a network. It breaks communication into <strong>seven layers</strong>, each with a distinct role‚Äîfrom physical signals up to human-facing applications.</p>

<p>By separating responsibilities, the OSI model makes it easier to design, troubleshoot, and scale networks. Each higher layer builds on the services of the one below, while remaining logically independent.</p>

<hr />

<h2 id="1-the-7-layers">1. The 7 Layers</h2>

<table class="study-table">
<thead>
<tr>
<th>Layer</th>
<th>Example Protocols</th>
<th>Data Unit</th>
<th>What It Adds / Handles</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>L7 Application</td>
<td>HTTP, DNS, SMTP, FTP</td>
<td>Data</td>
<td>User-facing services</td>
<td>Browser ‚Üí HTTP, Mail ‚Üí SMTP.</td>
</tr>
<tr>
<td>L6 Presentation</td>
<td>TLS/SSL, JPEG, JSON</td>
<td>Record</td>
<td>Data format, encryption, compression</td>
<td>Often merged into L7.</td>
</tr>
<tr>
<td>L5 Session</td>
<td>NetBIOS, RPC</td>
<td>‚Äì</td>
<td>Session setup &amp; teardown</td>
<td>Rarely explicit today.</td>
</tr>
<tr>
<td>L4 Transport</td>
<td>TCP, UDP</td>
<td>Segment</td>
<td>Reliable (TCP) vs fast (UDP)</td>
<td>TCP = handshake, ports, seq/ack. UDP = stateless.</td>
</tr>
<tr>
<td>L3 Network</td>
<td>IP, ICMP</td>
<td>Packet</td>
<td>Logical addressing &amp; routing</td>
<td>Routers forward packets. Uses ARP for MAC resolution.</td>
</tr>
<tr>
<td>L2 Data Link</td>
<td>Ethernet, Wi-Fi, PPP</td>
<td>Frame</td>
<td>Local delivery</td>
<td>Frames = MAC headers + payload + CRC.</td>
</tr>
<tr>
<td>L1 Physical</td>
<td>Copper, Fiber, Wi-Fi PHY</td>
<td>Bits</td>
<td>Transmission of raw signals</td>
<td>Voltage, RF, or optical light.</td>
</tr>
</tbody>
</table>

<p>üîÅ <strong>Encapsulation order:</strong><br />
<code class="language-plaintext highlighter-rouge">Application Data ‚Üí Segment ‚Üí Packet ‚Üí Frame ‚Üí Bits</code></p>

<div style="text-align: center; margin: 20px 0;">
  <img src="https://assets.bytebytego.com/diagrams/0295-osi-model.jpeg" alt="ByteByteGo OSI Model" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
  <div style="margin-top: 8px; font-size: 0.9em; color: #555;">
    <a href="https://bytebytego.com/guides/what-is-osi-model/" target="_blank" style="text-decoration: none; color: #3366cc;">
      üìñ Source: OSI Model Explained ‚Äì Byte Byte Go
    </a>
  </div>
</div>

<hr />

<h2 id="2-devices-at-each-layer">2. Devices at Each Layer</h2>

<table class="study-table">
<thead>
<tr>
<th>Device</th>
<th>Layer</th>
<th>What It Does</th>
<th>Protocols</th>
<th>Authentication</th>
</tr>
</thead>
<tbody>
<tr>
<td>Load Balancer</td>
<td>L4‚ÄìL7</td>
<td>Distributes traffic</td>
<td>TCP, HTTP/S, gRPC</td>
<td>TLS certs, tokens</td>
</tr>
<tr>
<td>Firewall</td>
<td>L3‚ÄìL4 (sometimes L7)</td>
<td>Filters packets/flows</td>
<td>IP, TCP/UDP, HTTP</td>
<td>Rules, TLS interception, VPN</td>
</tr>
<tr>
<td>Router</td>
<td>L3</td>
<td>Routes IP packets</td>
<td>IP, ICMP, BGP, OSPF</td>
<td>BGP MD5, IPsec</td>
</tr>
<tr>
<td>Switch</td>
<td>L2</td>
<td>Forwards frames by MAC</td>
<td>Ethernet, VLAN, ARP</td>
<td>802.1X, MAC binding</td>
</tr>
<tr>
<td>Hub</td>
<td>L1</td>
<td>Repeats bits blindly</td>
<td>‚Äì</td>
<td>None</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="3-layer-interactions">3. Layer Interactions</h2>

<h3 id="31-layer-2--arp">3.1 Layer 2 ‚Äì ARP</h3>

<p>Maps IP ‚Üí MAC via broadcast request and unicast reply.</p>

<div class="diagram-wrapper">
  <img src="./assets/l2_arp.png" alt="L2 ARP Example" />

  <div class="diagram-caption" data-snippet-id="arp-snippet">
    üñºÔ∏è ARP ‚Äì Sequence (hover to see PlantUML code)
  </div>

  <!-- Keep your PlantUML raw here -->
  <script type="text/plain" id="arp-snippet">
@startuml
actor "Host A\n(133.33.3.7)" as A
participant "Switch / LAN" as LAN
actor "Host B\n(133.33.3.10)" as B

== Step 1: Need to Send ==
A -> A: Wants to send packet to B (IP 133.33.3.10)
note right of A: Needs B's MAC address

== Step 2: ARP Request ==
A -> LAN: Broadcast ARP Request\n"Who has 133.33.3.10? Tell 133.33.3.7"
note over LAN: Sent to FF:FF:FF:FF:FF:FF (all hosts)

== Step 3: ARP Reply ==
B -> LAN: ARP Reply\n"I am 133.33.3.10, my MAC = 3e:22:fb:b9:5b:78"
LAN -> A: Deliver ARP Reply

== Step 4: Frame Delivery ==
A -> B: Frame (Src MAC A ‚Üí Dst MAC B)\nCarrying IP Packet (A IP ‚Üí B IP)
note over A,B: Now Host A can send data directly to Host B
@enduml
  </script>
</div>

<h3 id="32-layer-2--vlans--trunks">3.2 Layer 2 ‚Äì VLANs &amp; Trunks</h3>
<p>VLANs, trunks, and QinQ are needed to segment traffic, reduce broadcast domains, and efficiently carry multiple logical networks over the same physical infrastructure.</p>

<ul>
  <li><strong>VLAN (802.1Q):</strong>
    <ul>
      <li>Adds a VLAN ID tag inside Ethernet frames.</li>
      <li>Splits one physical switch into <strong>multiple broadcast domains</strong> ‚Üí improves scalability &amp; security.</li>
    </ul>
  </li>
  <li><strong>Trunks:</strong>
    <ul>
      <li>A single link between switches that <strong>carries multiple VLANs</strong> using tagging.</li>
      <li>Avoids needing one cable per VLAN.</li>
    </ul>
  </li>
  <li><strong>QinQ (802.1AD):</strong>
    <ul>
      <li><strong>VLAN stacking</strong> (two tags: S-Tag + C-Tag).</li>
      <li>Lets ISPs carry customer VLANs over their own backbone.</li>
      <li>Expands VLAN ID space beyond the 4096 limit.</li>
    </ul>
  </li>
</ul>

<p>üëâ All three work at <strong>Layer 2 (Frames)</strong> to logically separate traffic over shared physical networks.</p>

<h3 id="33-layer-3--routing">3.3 Layer 3 ‚Äì Routing</h3>
<p>Routers strip old frames, keep IP header, attach new MAC header for next hop.</p>

<div class="diagram-wrapper">
  <img src="./assets/l3_routing.png" alt="L3 Routing Example" />

  <div class="diagram-caption" data-snippet-id="routing-snippet">
    üñºÔ∏è Routing ‚Äì Sequence (hover to see PlantUML code)
  </div>

  <!-- Keep your PlantUML raw here -->
  <script type="text/plain" id="routing-snippet">
@startuml
actor Host as H
participant "Router 1\n(Home Gateway)" as R1
participant "Router 2\n(Transit)" as R2
actor "Destination Host" as D

== Step 1: Local Network ==
H -> R1: Frame(H-MAC ‚Üí R1-MAC) carrying Packet(H-IP ‚Üí D-IP)
note right of H: ARP used to resolve R1 MAC

== Step 2: First Routing Hop ==
R1 -> R2: Frame(R1-MAC ‚Üí R2-MAC) carrying Packet(H-IP ‚Üí D-IP)
note over R1: Removes old frame (H-MAC ‚Üí R1-MAC)\nAdds new frame (R1-MAC ‚Üí R2-MAC)

== Step 3: Second Routing Hop ==
R2 -> D: Frame(R2-MAC ‚Üí D-MAC) carrying Packet(H-IP ‚Üí D-IP)
note over R2: Removes old frame (R1-MAC ‚Üí R2-MAC)\nAdds new frame (R2-MAC ‚Üí D-MAC)\nUses ARP to resolve D MAC

== Step 4: Delivery ==
D <-- R2: Destination Host receives Packet(H-IP ‚Üí D-IP)
note right of D: Frame removed, IP packet delivered up the stack
@enduml

  </script>
</div>

<h3 id="34-layer-3--56---ipsec">3.4 Layer 3 &amp; 5‚Äì6 - IPsec</h3>
<p>IPsec = encrypted <strong>network tunnels</strong>.</p>
<ul>
  <li><strong>IKE (control plane)</strong> negotiates SAs and keys (<strong>Layer 5‚Äì6</strong>, over UDP/500 or UDP/4500 for NAT-T).</li>
  <li><strong>ESP/AH (data plane)</strong> protects IP packets at <strong>Layer 3</strong>.</li>
  <li>Commonly used for site-to-site and remote-access VPNs.</li>
  <li>Protects <em>all traffic</em> (HTTP, SSH, DNS, ICMP, etc.), independent of app protocol.</li>
</ul>

<div class="diagram-wrapper">
  <img src="./assets/ipsec_handshake.png" alt="IPsec Example" />
  <div class="diagram-caption" data-snippet-id="ipsec-snippet">
    üñºÔ∏è IPsec ‚Äì Sequence (hover to see PlantUML code)
  </div>
  <!-- Keep your PlantUML raw here -->
  <script type="text/plain" id="ipsec-snippet">
@startuml
actor Client
actor Server

== IKE Phase 1 (Main Mode / IKE_SA_INIT + IKE_AUTH) ==
Client -> Server: IKE_SA_INIT (DH/ECDH group, nonces, proposals) over UDP/500 (or 4500 NAT-T)
Server -> Client: IKE_SA_INIT Response
note over Client,Server: Exchange DH/ECDH (ephemeral by design) -> derive IKE SA key (PFS)

Client -> Server: IKE_AUTH (ID, Certificate/PSK, Auth payload)
Server -> Client: IKE_AUTH Response
note over Client,Server: Peers authenticated; secure IKE control channel established

== IKE Phase 2 (Quick Mode / CHILD_SA) ==
Client -> Server: CHILD_SA proposal (ESP/AH algos, lifetimes, selectors)
Server -> Client: CHILD_SA response
note over Client,Server: Negotiate keys/SPI for ESP/AH; set rekey lifetimes

== Encrypted Tunnel Established ==
note over Client,Server: All subsequent IP traffic protected inside ESP/AH (per CHILD_SA)

== Payload ==
alt Tunnel mode
  Client -> Server: ESP { Outer IP | ESP hdr(SPI, Seq) | Inner IP | TCP/UDP | App Data }
  Server -> Client: ESP { Outer IP | ESP hdr(SPI, Seq) | Inner IP | TCP/UDP | App Data }
else Transport mode
  Client -> Server: ESP { IP | ESP hdr(SPI, Seq) | TCP/UDP | App Data }
  Server -> Client: ESP { IP | ESP hdr(SPI, Seq) | TCP/UDP | App Data }
end

== Operations ==
... Rekey on lifetime expiry; DPD/keepalives monitor liveness ...
@enduml
  </script>
</div>
<blockquote>
  <p>Elliptic Curve Diffie‚ÄìHellman Ephemeral provides <strong>Perfect Forward Secrecy (PFS)</strong> by using a fresh, temporary key pair per session. Even if a server‚Äôs long-term private key is later compromised, past sessions remain confidential. Both TLS and IPsec commonly prefer ECDHE for key exchange.</p>
</blockquote>

<h3 id="35-layer-56---tls">3.5 Layer 5‚Äì6 - TLS</h3>
<p>TLS = encrypted <strong>application sessions</strong>.</p>
<ul>
  <li>Runs above TCP (L4) and below Application (L7).</li>
  <li>Provides confidentiality, integrity, authentication.</li>
  <li>Examples: HTTPS, SMTPS, IMAPS.</li>
  <li>Protects <em>specific app protocols</em>, not all traffic.</li>
</ul>

<div class="diagram-wrapper">
  <img src="./assets/tls_handshake.png" alt="TLS Example" />
  <div class="diagram-caption" data-snippet-id="tls-snippet">
    üñºÔ∏è TLS ‚Äì Sequence (hover to see PlantUML code)
  </div>
  <!-- Keep your PlantUML raw here -->
  <script type="text/plain" id="tls-snippet">
@startuml
actor Client
actor Server
actor CA

== TCP Setup ==
Client -> Server: SYN / SYN-ACK / ACK
note over Client,Server: TCP connection established

== TLS Handshake ==
Client -> Server: ClientHello (ciphers, random)
Server -> Client: ServerHello + Certificate
Client -> CA: Validate cert chain (CA root, expiry, hostname)

Client -> Server: ECDHE public value
Server -> Client: ECDHE public value
note over Client,Server: Derive shared secret (Perfect Forward Secrecy)

Client -> Server: Finished
Server -> Client: Finished
note over Client,Server: Secure TLS channel established

== Payload ==
Client -> Server: TLS record { Application Data: HTTP Request }
Server -> Client: TLS record { Application Data: HTTP Response }
@enduml
  </script>
</div>

<h3 id="36-traffic-addressing-modes-unicast-broadcast-multicast-anycast-geocast">3.6 Traffic Addressing Modes (Unicast, Broadcast, Multicast, Anycast, Geocast)</h3>

<p>How frames/packets are addressed determines who receives them and how the network treats them.</p>

<table class="study-table">
<thead>
<tr>
  <th>Mode</th>
  <th>Who Receives</th>
  <th>OSI Context</th>
  <th>Typical Uses</th>
  <th>Key Notes</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>Unicast</strong></td>
  <td>Exactly one host</td>
  <td>L2 (MAC‚ÜíMAC), L3 (IP‚ÜíIP)</td>
  <td>Web browsing, API calls, SSH</td>
  <td>Most traffic is unicast. Switched at L2, routed at L3.</td>
</tr>
<tr>
  <td><strong>Broadcast</strong></td>
  <td>All hosts in the L2 broadcast domain</td>
  <td>L2 (FF:FF:FF:FF:FF:FF)</td>
  <td>ARP, DHCP DISCOVER</td>
  <td>Routers block broadcasts by default.</td>
</tr>
<tr>
  <td><strong>Multicast</strong></td>
  <td>Members of a subscribed group</td>
  <td>L3 (224.0.0.0/4 IPv4; ff00::/8 IPv6)</td>
  <td>IPTV, conferencing, OSPF</td>
  <td>Uses IGMP/MLD (hosts), PIM (routers).</td>
</tr>
<tr>
  <td><strong>Anycast</strong></td>
  <td>‚ÄúNearest‚Äù one of many identical endpoints</td>
  <td>L3 (same IP announced in multiple sites)</td>
  <td>CDNs, DNS resolvers</td>
  <td>Routing selects the closest service.</td>
</tr>
<tr>
  <td><strong>Geocast</strong></td>
  <td>Hosts in a geographic region</td>
  <td>L3 concept</td>
  <td>Vehicular alerts, ITS</td>
  <td>Conceptual; app-layer in practice.</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="4-commands-by-osi-layer">4. Commands by OSI Layer</h2>

<table class="study-table">
<thead>
<tr>
<th>Layer</th>
<th>Command</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>L2</td>
<td><code>arp</code></td>
<td>Show ARP cache</td>
<td><code>arp -a</code></td>
</tr>
<tr>
<td>L3</td>
<td><code>ping</code></td>
<td>Test ICMP reachability</td>
<td><code>ping 8.8.8.8</code></td>
</tr>
<tr>
<td>L3</td>
<td><code>traceroute</code></td>
<td>Show hop path</td>
<td><code>mtr 8.8.8.8</code></td>
</tr>
<tr>
<td>L4</td>
<td><code>ss</code></td>
<td>List sockets</td>
<td><code>ss -ant</code></td>
</tr>
<tr>
<td>L4</td>
<td><code>tcpdump</code></td>
<td>Capture packets</td>
<td><code>tcpdump -i eth0 port 443</code></td>
</tr>
<tr>
<td>L7</td>
<td><code>dig</code></td>
<td>DNS lookup</td>
<td><code>dig example.com</code></td>
</tr>
<tr>
<td>L7</td>
<td><code>curl</code></td>
<td>Test HTTP</td>
<td><code>curl -vk https://site</code></td>
</tr>
<tr>
<td>Cross</td>
<td><code>nmap</code></td>
<td>Port scan</td>
<td><code>nmap -sS 10.1.2.3</code></td>
</tr>
</tbody>
</table>

<hr />

<h2 id="5-ip-addressing-basics">5. IP Addressing Basics</h2>

<h3 id="51-ipv4-classes--reservations">5.1 IPv4 Classes &amp; Reservations</h3>
<ul>
  <li><strong>Class A:</strong> 0.0.0.0 ‚Äì 127.255.255.255 (10.0.0.0/8 private, 127/8 loopback)</li>
  <li><strong>Class B:</strong> 128.0.0.0 ‚Äì 191.255.255.255 (172.16.0.0/12 private)</li>
  <li><strong>Class C:</strong> 192.0.0.0 ‚Äì 223.255.255.255 (192.168/16 private, TEST-NETs)</li>
  <li><strong>Class D:</strong> 224.0.0.0 ‚Äì 239.255.255.255 (multicast)</li>
  <li><strong>Class E:</strong> 240.0.0.0 ‚Äì 255.255.255.255 (experimental)</li>
</ul>

<p>üëâ Today we use <strong>CIDR</strong> instead of classful boundaries.</p>

<h3 id="51-convert-binary-to-decimal">5.1 Convert Binary to Decimal</h3>

<ol>
  <li>Take the binary <code class="language-plaintext highlighter-rouge">10000100</code>.</li>
  <li>
    <p>Multiply each bit by its place value:</p>

    <ul>
      <li>1√ó128 + 0√ó64 + 0√ó32 + 0√ó16 + 0√ó8 + 1√ó4 + 0√ó2 + 0√ó1</li>
    </ul>
  </li>
  <li>Add them up ‚Üí <strong>132</strong>.</li>
</ol>

<table class="study-table">
<thead>
<tr>
<th style="text-align: center;">Position</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
<th style="text-align: center;">Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>Decimal</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Bit</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Value</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center; font-weight: bold;">132</td>
</tr>
</tbody>
</table>

<p>üëâ So <code class="language-plaintext highlighter-rouge">10000100</code> in decimal = <strong>132</strong></p>

<h3 id="52-convert-decimal-to-to-binary">5.2 Convert Decimal to to Binary</h3>

<p>Take the first octet of <code class="language-plaintext highlighter-rouge">132.12.1.23</code>.</p>

<ol>
  <li>Start from <strong>128</strong> ‚Üí 132 ‚â• 128 ‚Üí put <strong>1</strong>, remainder = 132 ‚àí 128 = 4.</li>
  <li>Next (64) ‚Üí 4 &lt; 64 ‚Üí <strong>0</strong>.</li>
  <li>Next (32) ‚Üí 4 &lt; 32 ‚Üí <strong>0</strong>.</li>
  <li>Next (16) ‚Üí 4 &lt; 16 ‚Üí <strong>0</strong>.</li>
  <li>Next (8) ‚Üí 4 &lt; 8 ‚Üí <strong>0</strong>.</li>
  <li>Next (4) ‚Üí 4 ‚â• 4 ‚Üí <strong>1</strong>, remainder = 0.</li>
  <li>Next (2) ‚Üí 0 &lt; 2 ‚Üí <strong>0</strong>.</li>
  <li>Next (1) ‚Üí 0 &lt; 1 ‚Üí <strong>0</strong>.</li>
</ol>

<p>Result row: <strong>1 0 0 0 0 1 0 0</strong></p>

<table class="study-table">
<thead>
<tr>
<th style="text-align: center;">Position</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
</tr>
</thead>
<tbody>
<tr>
<td>Decimal</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td>Representation</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>

<p>üëâ So <code class="language-plaintext highlighter-rouge">132</code> in binary = <strong>10000100</strong></p>

<hr />

<h2 id="6-advanced-networking-topics">6. Advanced Networking Topics</h2>

<h3 id="61-nat-network-address-translation">6.1 NAT (Network Address Translation)</h3>

<ul>
  <li>Allows private IPs (RFC1918) to communicate with public networks.</li>
  <li>Originally designed to conserve IPv4 addresses, also adds a basic security layer by hiding internal hosts.</li>
  <li><strong>Types:</strong>
    <ul>
      <li><strong>Static NAT</strong> ‚Üí Fixed 1:1 mapping (one private ‚Üî one public). Useful for servers that must be reachable externally.</li>
      <li><strong>Dynamic NAT</strong> ‚Üí Private IPs mapped temporarily to an available public IP from a pool. Mapping changes each session.</li>
      <li><strong>PAT (Port Address Translation)</strong> ‚Üí Many private hosts share a single public IP. NAT device rewrites source <strong>IP+Port</strong> to track flows. Example: home routers, AWS NAT Gateway.</li>
    </ul>
  </li>
</ul>

<h3 id="62-ddos-attacks-3-categories">6.2 DDoS Attacks (3 categories)</h3>

<ol>
  <li><strong>Volumetric</strong> ‚Üí Flood bandwidth with massive traffic (e.g., UDP floods, DNS/NTP amplification).</li>
  <li><strong>Protocol</strong> ‚Üí Exploit L3/L4 weaknesses, exhausting connection state (e.g., SYN flood, Smurf attack, Ping of Death).</li>
  <li><strong>Application</strong> ‚Üí Target app layer (L7) with valid-looking requests that overwhelm servers (e.g., HTTP floods, Slowloris).</li>
</ol>

<h3 id="63-bgp-border-gateway-protocol">6.3 BGP (Border Gateway Protocol)</h3>

<p>The internet is a <strong>network of networks</strong> (Autonomous Systems, or AS):</p>

<ul>
  <li><strong>AS (Autonomous System):</strong> Collection of IP prefixes under one admin domain.</li>
  <li><strong>ASN (Autonomous System Number):</strong> Unique ID (Google = AS15169, Amazon = AS16509).</li>
  <li><strong>BGP Basics:</strong> Protocol to exchange routing info between ASes (runs over TCP/179).</li>
  <li><strong>iBGP</strong> ‚Üí Routing <strong>inside</strong> an AS (e.g., Google‚Äôs internal backbone).</li>
  <li><strong>eBGP</strong> ‚Üí Routing <strong>between</strong> ASes (e.g., ISP ‚Üî Cloudflare).</li>
  <li><strong>ASPATH:</strong> List of AS hops; shortest usually preferred.</li>
  <li><strong>Policies &amp; Tricks:</strong>
    <ul>
      <li><strong>ASPATH prepending</strong> ‚Üí make a path look less attractive.</li>
      <li><strong>Route filtering</strong> ‚Üí accept/export only selected prefixes.</li>
      <li><strong>Peering vs Transit</strong> ‚Üí prefer cheap/free peer routes over costly transit.</li>
    </ul>
  </li>
</ul>

<h3 id="64-jumbo-frames">6.4 Jumbo Frames</h3>

<ul>
  <li><strong>Default MTU = 1500 bytes</strong>, Jumbo Frames = ~9000 bytes.</li>
  <li><strong>Benefits:</strong> Less overhead, fewer packets, higher throughput for large data transfers.</li>
  <li><strong>Limitations:</strong> Must be supported end-to-end; mismatches cause fragmentation or drops.</li>
  <li><strong>Supported in:</strong> Local networks, datacenter links, AWS Direct Connect, TGW, same-region peering.</li>
  <li><strong>Not supported in:</strong> General internet, VPN over public internet, cross-region cloud traffic.</li>
</ul>

<h3 id="65-layer-7-firewalls">6.5 Layer 7 Firewalls</h3>

<ul>
  <li>Extend firewalls beyond L3/L4 (IP, port) to <strong>application-aware filtering at L7</strong>.</li>
  <li>Parse and inspect protocols (HTTP, DNS, SMTP, gRPC).</li>
  <li><strong>Capabilities:</strong>
    <ul>
      <li>Block/allow traffic based on <strong>URLs, headers, payloads</strong>.</li>
      <li>Detect and stop <strong>application-layer DDoS</strong> (HTTP floods, bots).</li>
      <li>Enforce <strong>auth/security policies</strong> (tokens, TLS inspection).</li>
    </ul>
  </li>
  <li><strong>Examples:</strong> AWS WAF, Cloudflare WAF, Palo Alto NGFW, F5 ASM.</li>
</ul>

    </article>
  </main>

  <!-- Floating Table of Contents -->
  <div id="floating-toc" class="floating-toc">
    <div class="toc-icon">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="8" y1="6" x2="21" y2="6"></line>
        <line x1="8" y1="12" x2="21" y2="12"></line>
        <line x1="8" y1="18" x2="21" y2="18"></line>
        <line x1="3" y1="6" x2="3.01" y2="6"></line>
        <line x1="3" y1="12" x2="3.01" y2="12"></line>
        <line x1="3" y1="18" x2="3.01" y2="18"></line>
      </svg>
    </div>
    <div class="toc-content">
      <div class="toc-header">
        <span>Contents</span>
        <button class="toc-close" aria-label="Close table of contents">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <nav class="toc-nav" id="toc-nav">
        <!-- Generated by JavaScript -->
      </nav>
    </div>
  </div>

  <footer class="site-footer">
    <span>¬© 2025 glucolte ‚Ä¢ </span>
    <a href="https://github.com/gLuColte/glucolte.github.io">source</a>
  </footer>

  <script>
    // Initialize highlight.js and floating TOC after the DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      hljs.highlightAll();
      
      // Floating TOC functionality - only show on sub-study pages
      const floatingToc = document.getElementById('floating-toc');
      const tocNav = document.getElementById('toc-nav');
      const tocClose = document.querySelector('.toc-close');
      
      // Check if we're on a sub-study page (not the main study index)
      const isSubStudyPage = window.location.pathname !== '/study/' && 
                            window.location.pathname !== '/study' && 
                            window.location.pathname.startsWith('/study/');
      
      if (floatingToc && tocNav && isSubStudyPage) {
        // Generate TOC from headings
        function generateTOC() {
          const headings = document.querySelectorAll('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6');
          if (headings.length === 0) {
            floatingToc.style.display = 'none';
            return;
          }
          
          const tocList = document.createElement('ul');
          let currentLevel = 0;
          let currentList = tocList;
          const listStack = [tocList];
          
          headings.forEach((heading, index) => {
            const level = parseInt(heading.tagName.charAt(1));
            const id = heading.id || `heading-${index}`;
            
            // Ensure heading has an ID
            if (!heading.id) {
              heading.id = id;
            }
            
            // Create list item
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = `#${id}`;
            link.textContent = heading.textContent.trim();
            link.addEventListener('click', function(e) {
              e.preventDefault();
              const targetElement = document.getElementById(id);
              if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // Close TOC after clicking
                floatingToc.classList.remove('toc-open');
              }
            });
            
            listItem.appendChild(link);
            
            // Handle nesting
            if (level > currentLevel) {
              // Go deeper
              for (let i = currentLevel; i < level; i++) {
                const newList = document.createElement('ul');
                currentList.appendChild(newList);
                listStack.push(newList);
                currentList = newList;
              }
            } else if (level < currentLevel) {
              // Go shallower
              for (let i = currentLevel; i > level; i--) {
                listStack.pop();
                currentList = listStack[listStack.length - 1];
              }
            }
            
            currentList.appendChild(listItem);
            currentLevel = level;
          });
          
          tocNav.appendChild(tocList);
        }
        
        // Generate the TOC
        generateTOC();
        
        // Handle close button
        if (tocClose) {
          tocClose.addEventListener('click', function() {
            floatingToc.classList.remove('toc-open');
          });
        }
        
        // Handle click on icon to toggle
        const tocIcon = document.querySelector('.toc-icon');
        if (tocIcon) {
          tocIcon.addEventListener('click', function() {
            floatingToc.classList.toggle('toc-open');
          });
        }
        
        // Active section highlighting
        function updateActiveSection() {
          const headings = document.querySelectorAll('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6');
          const tocLinks = tocNav.querySelectorAll('a');
          
          // Remove active class from all links
          tocLinks.forEach(link => link.classList.remove('active'));
          
          // Find the current section
          let currentHeading = null;
          const scrollPosition = window.scrollY + 100; // Offset for better UX
          
          for (let i = headings.length - 1; i >= 0; i--) {
            const heading = headings[i];
            const headingTop = heading.offsetTop;
            
            if (headingTop <= scrollPosition) {
              currentHeading = heading;
              break;
            }
          }
          
          // Add active class to current section
          if (currentHeading) {
            const activeLink = tocNav.querySelector(`a[href="#${currentHeading.id}"]`);
            if (activeLink) {
              activeLink.classList.add('active');
            }
          }
        }
        
        // Update active section on scroll
        let scrollTimeout;
        window.addEventListener('scroll', function() {
          if (scrollTimeout) {
            clearTimeout(scrollTimeout);
          }
          scrollTimeout = setTimeout(updateActiveSection, 10);
        });
        
        // Initial update
        updateActiveSection();
      } else if (floatingToc && !isSubStudyPage) {
        // Hide floating TOC on main study page
        floatingToc.style.display = 'none';
      }
      
      // Legacy TOC functionality (for existing markdown TOCs)
      const toc = document.querySelector('#markdown-toc');
      if (toc) {
        // Hide the floating TOC if there's already a markdown TOC
        if (floatingToc) {
          floatingToc.style.display = 'none';
        }
        
        // Create TOC container with header
        const tocContainer = document.createElement('div');
        tocContainer.className = 'toc-container';
        tocContainer.style.cssText = `
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 16px;
          margin: 20px 0;
          position: relative;
        `;
        
        // Add TOC header
        const tocHeader = document.createElement('h3');
        tocHeader.textContent = 'Table of Contents';
        tocHeader.style.cssText = `
          margin: 0 0 12px 0;
          font-size: 16px;
          font-weight: 600;
          color: #374151;
        `;
        
        // Add back to top button
        const backToTopBtn = document.createElement('button');
        backToTopBtn.textContent = '‚Üë Top';
        backToTopBtn.style.cssText = `
          position: absolute;
          top: 12px;
          right: 12px;
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          padding: 4px 8px;
          font-size: 12px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        `;
        
        // Add hover effect for back to top button
        backToTopBtn.addEventListener('mouseenter', function() {
          this.style.background = '#f3f4f6';
          this.style.color = '#374151';
        });
        
        backToTopBtn.addEventListener('mouseleave', function() {
          this.style.background = '#ffffff';
          this.style.color = '#6b7280';
        });
        
        // Back to top functionality
        backToTopBtn.addEventListener('click', function() {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Style the TOC list
        toc.style.cssText = `
          margin: 0;
          padding: 0;
          font-size: 14px;
          line-height: 1.5;
        `;
        
        // Insert header and button into container
        tocContainer.appendChild(tocHeader);
        tocContainer.appendChild(backToTopBtn);
        tocContainer.appendChild(toc);
        
        // Replace the original TOC with the new container
        toc.parentNode.insertBefore(tocContainer, toc);
        tocContainer.appendChild(toc);
        
        // Add smooth scrolling to TOC links
        const tocLinks = toc.querySelectorAll('a');
        tocLinks.forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: 'smooth' });
            }
          });
        });
      }
    });
  </script>
</body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".diagram-caption").forEach(caption => {
      const snippetId = caption.getAttribute("data-snippet-id");
      const snippet = document.getElementById(snippetId);
      if (snippet) {
        caption.setAttribute("data-tooltip", snippet.textContent.trim());
      }
    });
  });
  </script>
  