<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>OSI Model ¬∑ glucolte</title>
  <meta name="description" content="notes ‚Ä¢ principles ‚Ä¢ systems">
  <link rel="stylesheet" href="/assets/style.css">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>OSI Model | glucolte</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="OSI Model" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="notes ‚Ä¢ principles ‚Ä¢ systems" />
<meta property="og:description" content="notes ‚Ä¢ principles ‚Ä¢ systems" />
<link rel="canonical" href="http://localhost:4000/study/infrastructureOsiModel" />
<meta property="og:url" content="http://localhost:4000/study/infrastructureOsiModel" />
<meta property="og:site_name" content="glucolte" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OSI Model" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"notes ‚Ä¢ principles ‚Ä¢ systems","headline":"OSI Model","url":"http://localhost:4000/study/infrastructureOsiModel"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
    <a class="brand" href="/">glucolte</a>
    <nav class="nav">
      <a href="/">home</a>
      <a href="/principles">principles</a>
      <a href="/rules">rules</a>
      <a href="/stretches">stretches</a>
      <a href="/study/">study</a>
      <a href="/projects/">projects</a>
      <a href="/setup/">setup</a>
    </nav>
  </header>

  <main class="container">
    <article class="content">
      <h1 id="osi-model">OSI Model</h1>

<p>The OSI (Open Systems Interconnection) Model is a conceptual framework that explains how data moves from one device to another across a network. It breaks communication into seven layers, each with a specific role‚Äîfrom turning raw electrical signals into bits, all the way up to human-readable applications like web browsers or email. By separating these responsibilities, the OSI model makes it easier to design, troubleshoot, and scale networks. It supports everything from simple device-to-device communication (like two computers in a LAN) to complex many-to-many interactions across the global internet. Each higher OSI layer builds on the services of the layer below, while layers remain functionally independent when viewed side-by-side.</p>

<table class="study-table">
<thead>
<tr>
<th>OSI Layer</th>
<th>Example Protocols</th>
<th>Data Unit</th>
<th>What It Adds / Handles</th>
<th>Key Details &amp; Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>L7 Application</td>
<td>HTTP, DNS, SMTP, FTP</td>
<td>Data</td>
<td>User-facing services &amp; protocols</td>
<td>Apps talk in human-readable formats. Browser ‚Üí HTTP Request, Mail client ‚Üí SMTP.</td>
</tr>
<tr>
<td>L6 Presentation</td>
<td>TLS/SSL, JPEG, JSON</td>
<td>Record</td>
<td>Data format, encryption, compression</td>
<td>TLS encrypts HTTP; JSON/XML standardize data; JPEG/MP3 compress media. Often merged into L7 in practice.</td>
</tr>
<tr>
<td>L5 Session</td>
<td>NetBIOS, RPC</td>
<td>‚Äì</td>
<td>Session control (setup, sync, teardown)</td>
<td>Rarely explicit today. Example: RPC, NetBIOS. TLS sessions can resume without full handshake.</td>
</tr>
<tr>
<td>L4 Transport</td>
<td>TCP, UDP</td>
<td>Segment</td>
<td>Reliable delivery (TCP) or fast fire-and-forget (UDP)</td>
<td>Fixes L3 issues: out-of-order, loss, no channels. TCP headers include ports, seq/ack, window, checksum. TCP 3-way handshake ‚Üí SYN, SYN/ACK, ACK. Maintains state (reliable, ordered). UDP = stateless (no session info).</td>
</tr>
<tr>
<td>L3 Network</td>
<td>IP, ICMP</td>
<td>Packet</td>
<td>Logical addressing, routing between networks</td>
<td>IP = addressing system. ICMP = control (ping, errors). Routers strip/replace frames at every hop. Uses ARP to resolve IP‚ÜíMAC. Routing tables decide next hop (default 0.0.0.0/0). House = IP, Apartment = Port.</td>
</tr>
<tr>
<td>L2 Data Link</td>
<td>Ethernet, Wi-Fi, PPP</td>
<td>Frame</td>
<td>Local delivery between devices on the same medium</td>
<td>MAC addresses unique per device. Frame = Header (src/dst MAC + EtherType) + Payload (L3 packet) + CRC. Handles collisions (CSMA/CD). Supports unicast, broadcast, VLAN tagging. Protocols: Ethernet, Wi-Fi, MPLS, PPP.</td>
</tr>
<tr>
<td>L1 Physical</td>
<td>Copper, Fiber, Wi-Fi PHY</td>
<td>Bits</td>
<td>Transmission of raw signals</td>
<td>Defines voltage, RF, or light wavelength. No addressing or error detection. Standards: copper (RJ45), fiber optics, Wi-Fi PHY.</td>
</tr>
</tbody>
</table>

<p>üîÅ <strong>Encapsulation order</strong>:
<strong>Frame ‚Üí Packet ‚Üí Segment ‚Üí Application Data</strong>
‚Ä¶and the whole frame turns into <strong>bits/signals</strong> at Layer 1.</p>

<p>A really good diagram illustration is from <a href="https://bytebytego.com/guides/what-is-osi-model/">Osi Model Explained - Byte Byte Go</a></p>

<div style="text-align: center; margin: 20px 0;">
<img src="https://assets.bytebytego.com/diagrams/0295-osi-model.jpeg" alt="ByteByteGo OSI Model" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
</div>

<hr />

<h2 id="devices-at-different-layers">Devices at Different Layers</h2>

<p>Different network devices operate at different OSI layers, each handling only the information relevant to its role:</p>

<table class="study-table">
<thead>
<tr>
<th>Device</th>
<th>OSI Layer</th>
<th>What It Does</th>
<th>Protocol Examples</th>
<th>Authentication</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hub</td>
<td>L1 (Physical)</td>
<td>Blindly repeats bits to all ports. No concept of frames or addresses ‚Üí collisions possible.</td>
<td>None (raw electrical/optical signals)</td>
<td>None</td>
</tr>
<tr>
<td>Switch</td>
<td>L2 (Data Link)</td>
<td>Forwards Ethernet frames using MAC address table. Falls back to broadcast (flooding) if unknown.</td>
<td>Ethernet, ARP, VLAN (802.1Q), STP</td>
<td>Port security (MAC binding), 802.1X (RADIUS/EAP)</td>
</tr>
<tr>
<td>Router</td>
<td>L3 (Network)</td>
<td>Routes IP packets across networks. Strips L2 header and adds a new one for each hop.</td>
<td>IP, ICMP, OSPF, BGP, EIGRP</td>
<td>BGP MD5, OSPF auth (MD5/SHA), IPsec for secure tunnels</td>
</tr>
<tr>
<td>Firewall</td>
<td>L3‚ÄìL4 (sometimes L7)</td>
<td>Inspects and filters packets based on IP, ports, and sometimes application signatures.</td>
<td>IP, TCP/UDP, HTTP/S (for deep inspection)</td>
<td>Rule sets, TLS interception (certificates), VPN auth</td>
</tr>
<tr>
<td>Load Balancer</td>
<td>L4‚ÄìL7</td>
<td>Distributes client requests across multiple servers, can also terminate TLS.</td>
<td>TCP, HTTP/S, TLS, gRPC</td>
<td>TLS certificates, client certs, token-based auth</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="layer-2---arp">Layer 2 - ARP</h2>

<p>ARP (Address Resolution Protocol) maps an IP address (L3) to a MAC address (L2) so devices can deliver frames on a local network. It works by broadcasting ‚ÄúWho has this IP?‚Äù and the target replies with its MAC. Once resolved, the sender builds the frame (Src MAC ‚Üí Dst MAC) and hands it to Layer 1, which transmits the raw bits as electrical, optical, or radio signals.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@startuml
actor "Host A\n(133.33.3.7)" as A
participant "Switch / LAN" as LAN
actor "Host B\n(133.33.3.10)" as B

== Step 1: Need to Send ==
A -&gt; A: Wants to send packet to B (IP 133.33.3.10)
note right of A: Needs B's MAC address

== Step 2: ARP Request ==
A -&gt; LAN: Broadcast ARP Request\n"Who has 133.33.3.10? Tell 133.33.3.7"
note over LAN: Sent to FF:FF:FF:FF:FF:FF (all hosts)

== Step 3: ARP Reply ==
B -&gt; LAN: ARP Reply\n"I am 133.33.3.10, my MAC = 3e:22:fb:b9:5b:78"
LAN -&gt; A: Deliver ARP Reply

== Step 4: Frame Delivery ==
A -&gt; B: Frame (Src MAC A ‚Üí Dst MAC B)\nCarrying IP Packet (A IP ‚Üí B IP)
note over A,B: Now Host A can send data directly to Host B
@enduml

</code></pre></div></div>

<div style="text-align: center; margin: 20px 0;">
<img src="./assets/l2_arp.png" alt="L2 ARP Example" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
</div>

<hr />

<h2 id="layer-2---vlans-trunks--qinq">Layer 2 - VLANs, Trunks &amp; QinQ</h2>

<p>VLANs, trunks, and QinQ are needed to segment traffic, reduce broadcast domains, and efficiently carry multiple logical networks over the same physical infrastructure.</p>

<ul>
  <li><strong>VLAN (802.1Q):</strong>
    <ul>
      <li>Adds a VLAN ID tag inside Ethernet frames.</li>
      <li>Splits one physical switch into <strong>multiple broadcast domains</strong> ‚Üí improves scalability &amp; security.</li>
    </ul>
  </li>
  <li><strong>Trunks:</strong>
    <ul>
      <li>A single link between switches that <strong>carries multiple VLANs</strong> using tagging.</li>
      <li>Avoids needing one cable per VLAN.</li>
    </ul>
  </li>
  <li><strong>QinQ (802.1AD):</strong>
    <ul>
      <li><strong>VLAN stacking</strong> (two tags: S-Tag + C-Tag).</li>
      <li>Lets ISPs carry customer VLANs over their own backbone.</li>
      <li>Expands VLAN ID space beyond the 4096 limit.</li>
    </ul>
  </li>
</ul>

<p>üëâ All three work at <strong>Layer 2 (Frames)</strong> to logically separate traffic over shared physical networks.</p>

<hr />

<h2 id="layer-3---routing">Layer 3 - Routing</h2>

<p>Layer 3 (Network) routing forwards packets across different networks. At each hop, the router keeps the IP packet unchanged (source IP ‚Üí destination IP) but removes the old Layer 2 frame and attaches a new one with the next hop‚Äôs MAC address. This process lets traffic move from a local LAN to remote networks through multiple routers. Note, L3 Routing depends on L2 ARP.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@startuml
actor Host as H
participant "Router 1\n(Home Gateway)" as R1
participant "Router 2\n(Transit)" as R2
actor "Destination Host" as D

== Step 1: Local Network ==
H -&gt; R1: Frame(H-MAC ‚Üí R1-MAC) carrying Packet(H-IP ‚Üí D-IP)
note right of H: ARP used to resolve R1 MAC

== Step 2: First Routing Hop ==
R1 -&gt; R2: Frame(R1-MAC ‚Üí R2-MAC) carrying Packet(H-IP ‚Üí D-IP)
note over R1: Removes old frame (H-MAC ‚Üí R1-MAC)\nAdds new frame (R1-MAC ‚Üí R2-MAC)

== Step 3: Second Routing Hop ==
R2 -&gt; D: Frame(R2-MAC ‚Üí D-MAC) carrying Packet(H-IP ‚Üí D-IP)
note over R2: Removes old frame (R1-MAC ‚Üí R2-MAC)\nAdds new frame (R2-MAC ‚Üí D-MAC)\nUses ARP to resolve D MAC

== Step 4: Delivery ==
D &lt;-- R2: Destination Host receives Packet(H-IP ‚Üí D-IP)
note right of D: Frame removed, IP packet delivered up the stack
@enduml

</code></pre></div></div>

<div style="text-align: center; margin: 20px 0;">
<img src="./assets/l3_routing.png" alt="L3 Routing Example" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
</div>

<hr />

<h2 id="multi-layer-4--7---tls-and-ipsec-tunnel">Multi Layer 4 &amp; 7 - TLS and IPSec Tunnel</h2>

<p>TLS handshake for encrypted communication:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@startuml
actor Server
actor Client
actor CA

== Certificate Setup (out of band) ==
Server -&gt; CA: CSR (public key + org info)
CA -&gt; Server: Signed Certificate (X.509)

== TCP 3-Way Handshake (TLS only) ==
Client -&gt; Server: SYN
Server -&gt; Client: SYN-ACK
Client -&gt; Server: ACK
note over Client,Server: TCP connection established

== TLS Handshake ==
Client -&gt; Server: ClientHello (supported ciphers, random)
Server -&gt; Client: ServerHello + Certificate
Client -&gt; CA: Validate Certificate Chain
note over Client: Check CA root, expiry, domain

alt RSA Key Exchange (older)
  Client -&gt; Server: Pre-Master Secret (encrypted with server pubkey)
  note over Client,Server: Derive Master Secret &amp; Session Keys
else (EC)DHE Key Exchange (modern)
  Client -&gt; Server: DH/ECDH public value
  Server -&gt; Client: DH/ECDH public value
  note over Client,Server: Derive Shared Secret (PFS)
end

Client -&gt; Server: Finished
Server -&gt; Client: Finished
note over Client,Server: Secure TLS Channel Established

== Application Data ==
Client -&gt; Server: Encrypted HTTP Request
Server -&gt; Client: Encrypted HTTP Response

== IPsec IKE Phase 1 (Main Mode) ==
Client -&gt; Server: IKE_SA_INIT (DH values, nonces, proposals)
Server -&gt; Client: IKE_SA_INIT Response
note over Client,Server: DH/ECDH ‚Üí Shared Key (IKE SA)

Client -&gt; Server: IKE_AUTH (ID, Certificate, Auth payload)
Server -&gt; Client: IKE_AUTH Response
note over Client,Server: Peers authenticated, secure control channel

== IPsec IKE Phase 2 (Quick Mode) ==
Client -&gt; Server: Child SA proposal (ESP/AH algorithms, lifetimes)
Server -&gt; Client: Child SA response
note over Client,Server: Derive IPsec SA keys from Phase 1

== Encrypted Tunnel Established ==
Client -&gt; Server: Encrypted IP packets (ESP/AH)
Server -&gt; Client: Encrypted IP packets (ESP/AH)
@enduml


</code></pre></div></div>

<div style="text-align: center; margin: 20px 0;">
<img src="./assets/tls_handshake.png" alt="TLS Handshake" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
</div>

<hr />

<h2 id="commands-by-osi-layer">Commands by OSI Layer</h2>

<table class="study-table">
<thead>
<tr>
<th>Layer</th>
<th>Command</th>
<th>Purpose</th>
<th>Example</th>
<th>Popular Flags</th>
</tr>
</thead>
<tbody>
<tr>
<td>L2 Data Link</td>
<td><code>arp</code></td>
<td>Show/modify ARP cache (IP‚ÜîMAC)</td>
<td><code>arp -a</code></td>
<td><code>-a</code> all, <code>-d</code> delete</td>
</tr>
<tr>
<td></td>
<td><code>ip link</code></td>
<td>Manage NICs, errors, drops</td>
<td><code>ip -s link show eth0</code></td>
<td><code>-s</code> stats, <code>set</code> up/down</td>
</tr>
<tr>
<td></td>
<td><code>ethtool</code></td>
<td>NIC driver/speed info</td>
<td><code>ethtool eth0</code></td>
<td><code>-i</code> driver info, <code>-S</code> stats</td>
</tr>
<tr>
<td>L3 Network</td>
<td><code>ping</code></td>
<td>Test reachability + latency (ICMP)</td>
<td><code>ping -c 4 8.8.8.8</code></td>
<td><code>-c</code> count, <code>-s</code> size, <code>-I</code> iface</td>
</tr>
<tr>
<td></td>
<td><code>traceroute</code>/<code>mtr</code></td>
<td>Show hop path</td>
<td><code>mtr -rw 8.8.8.8</code></td>
<td><code>-r</code> report, <code>-n</code> numeric, <code>-w</code> wide</td>
</tr>
<tr>
<td></td>
<td><code>ip route</code></td>
<td>Show/manage routing table</td>
<td><code>ip route show</code></td>
<td>add/del routes</td>
</tr>
<tr>
<td>L4 Transport</td>
<td><code>ss</code>/<code>netstat</code></td>
<td>List sockets, ports, states</td>
<td><code>ss -antp</code></td>
<td><code>-a</code> all, <code>-t</code> TCP, <code>-u</code> UDP, <code>-p</code> proc</td>
</tr>
<tr>
<td></td>
<td><code>tcpdump</code></td>
<td>Capture packets</td>
<td><code>tcpdump -i eth0 port 443 -nnvvXSs 1500</code></td>
<td><code>-i</code> iface, <code>-nn</code> no resolve, <code>-w</code> write</td>
</tr>
<tr>
<td>L7 Application</td>
<td><code>dig</code></td>
<td>DNS resolution</td>
<td><code>dig +trace example.com</code></td>
<td><code>+trace</code>, <code>@server</code></td>
</tr>
<tr>
<td></td>
<td><code>nslookup</code></td>
<td>Legacy DNS tool</td>
<td><code>nslookup example.com 8.8.8.8</code></td>
<td>server param</td>
</tr>
<tr>
<td></td>
<td><code>curl</code></td>
<td>Test HTTP/TLS endpoints</td>
<td><code>curl -vk https://example.com</code></td>
<td><code>-v</code> verbose, <code>-k</code> ignore cert</td>
</tr>
<tr>
<td></td>
<td><code>wget</code></td>
<td>Fetch HTTP/FTP files</td>
<td><code>wget --spider https://example.com</code></td>
<td><code>--spider</code> test only, <code>-O</code> output</td>
</tr>
<tr>
<td>Cross</td>
<td><code>iftop</code></td>
<td>Bandwidth by connection</td>
<td><code>iftop -i eth0</code></td>
<td><code>-n</code> numeric, <code>-P</code> show ports</td>
</tr>
<tr>
<td></td>
<td><code>nmap</code></td>
<td>Scan ports/services</td>
<td><code>nmap -sS -p 1-1000 10.1.2.3</code></td>
<td><code>-sS</code> SYN, <code>-sV</code> version, <code>-A</code> aggressive</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="ipv4-classes--reservations">IPv4 Classes &amp; Reservations</h2>

<p>IPv4 addresses are 32-bit numbers, written as four octets (groups of 8 bits) in decimal, separated by dots (e.g., 192.168.1.1). Early on, these addresses were divided into classes (A‚ÄìE) to handle different network sizes and special purposes.</p>

<ul>
  <li><strong>Class A (0.0.0.0 ‚Äì 127.255.255.255)</strong>
    <ul>
      <li>Originally: Very large networks (up to ~16 million hosts).</li>
      <li>Reserved bits:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">0.0.0.0/8</code> ‚Üí ‚Äúthis network.‚Äù</li>
          <li><code class="language-plaintext highlighter-rouge">127.0.0.0/8</code> ‚Üí <strong>loopback</strong> (localhost, e.g., <code class="language-plaintext highlighter-rouge">127.0.0.1</code>).</li>
          <li><code class="language-plaintext highlighter-rouge">10.0.0.0/8</code> ‚Üí <strong>private addressing</strong> (RFC 1918).</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Class B (128.0.0.0 ‚Äì 191.255.255.255)</strong>
    <ul>
      <li>Originally: Medium networks (up to ~65,000 hosts).</li>
      <li>Reserved bits:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">172.16.0.0 ‚Äì 172.31.255.255</code> ‚Üí <strong>private use</strong>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Class C (192.0.0.0 ‚Äì 223.255.255.255)</strong>
    <ul>
      <li>Originally: Small networks (up to 254 hosts).</li>
      <li>Reserved bits:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">192.168.0.0/16</code> ‚Üí <strong>private use</strong>.</li>
          <li><code class="language-plaintext highlighter-rouge">192.0.2.0/24</code> ‚Üí <strong>TEST-NET-1</strong> (docs/examples).</li>
          <li><code class="language-plaintext highlighter-rouge">198.51.100.0/24</code> ‚Üí <strong>TEST-NET-2</strong>.</li>
          <li><code class="language-plaintext highlighter-rouge">203.0.113.0/24</code> ‚Üí <strong>TEST-NET-3</strong>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Class D (224.0.0.0 ‚Äì 239.255.255.255)</strong>
    <ul>
      <li><strong>Reserved for multicast.</strong></li>
      <li>Examples:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">224.0.0.1</code> ‚Üí all hosts in subnet.</li>
          <li><code class="language-plaintext highlighter-rouge">224.0.0.2</code> ‚Üí all routers in subnet.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Class E (240.0.0.0 ‚Äì 255.255.255.255)</strong>
    <ul>
      <li><strong>Reserved for experimental use.</strong></li>
      <li>Not routable on the public internet.</li>
    </ul>
  </li>
</ul>

<p>üëâ In practice:</p>
<ul>
  <li><strong>Classes A/B/C</strong>: Mostly historical; we now use <strong>CIDR (Classless Inter-Domain Routing)</strong> instead of rigid class boundaries.</li>
  <li><strong>Class D</strong>: Still active for multicast (e.g., streaming, routing protocols like OSPF).</li>
  <li><strong>Class E</strong>: Reserved/unused.</li>
</ul>

<h3 id="decimal-and-binary-converions">Decimal and Binary Converions</h3>

<table class="study-table">
<thead>
<tr>
<th style="text-align: center;">Position</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
</tr>
</thead>
<tbody>
<tr>
<td>Decimal</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td>Representation</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>

<hr />

<h4 id="convert-132-to-binary">Convert <code class="language-plaintext highlighter-rouge">132</code> to Binary</h4>

<p>Take the first octet of <code class="language-plaintext highlighter-rouge">132.12.1.23</code>.</p>

<ol>
  <li>Start from <strong>128</strong> ‚Üí 132 ‚â• 128 ‚Üí put <strong>1</strong>, remainder = 132 ‚àí 128 = 4.</li>
  <li>Next (64) ‚Üí 4 &lt; 64 ‚Üí <strong>0</strong>.</li>
  <li>Next (32) ‚Üí 4 &lt; 32 ‚Üí <strong>0</strong>.</li>
  <li>Next (16) ‚Üí 4 &lt; 16 ‚Üí <strong>0</strong>.</li>
  <li>Next (8) ‚Üí 4 &lt; 8 ‚Üí <strong>0</strong>.</li>
  <li>Next (4) ‚Üí 4 ‚â• 4 ‚Üí <strong>1</strong>, remainder = 0.</li>
  <li>Next (2) ‚Üí 0 &lt; 2 ‚Üí <strong>0</strong>.</li>
  <li>Next (1) ‚Üí 0 &lt; 1 ‚Üí <strong>0</strong>.</li>
</ol>

<p>Result row: <strong>1 0 0 0 0 1 0 0</strong></p>

<table class="study-table">
<thead>
<tr>
<th style="text-align: center;">Position</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
</tr>
</thead>
<tbody>
<tr>
<td>Decimal</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td>Representation</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>

<p>üëâ So <code class="language-plaintext highlighter-rouge">132</code> in binary = <strong>10000100</strong></p>

<h4 id="convert-10000100-to-decimals">Convert 10000100 to Decimals</h4>

<ol>
  <li>Take the binary <code class="language-plaintext highlighter-rouge">10000100</code>.</li>
  <li>
    <p>Multiply each bit by its place value:</p>

    <ul>
      <li>1√ó128 + 0√ó64 + 0√ó32 + 0√ó16 + 0√ó8 + 1√ó4 + 0√ó2 + 0√ó1</li>
    </ul>
  </li>
  <li>Add them up ‚Üí <strong>132</strong>.</li>
</ol>

<table class="study-table">
<thead>
<tr>
<th style="text-align: center;">Position</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
<th style="text-align: center;">Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>Decimal</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Bit</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Value</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center; font-weight: bold;">132</td>
</tr>
</tbody>
</table>

<p>üëâ So <code class="language-plaintext highlighter-rouge">10000100</code> in decimal = <strong>132</strong></p>

<hr />

<h2 id="-nat-network-address-translation">üåê NAT (Network Address Translation)</h2>

<ul>
  <li>Lets private IPs communicate with public IPs.</li>
  <li>Originally designed to conserve IPv4 addresses, also adds security.</li>
  <li><strong>Types:</strong>
    <ul>
      <li><strong>Static NAT</strong> ‚Üí 1 private ‚Üî 1 public mapping.</li>
      <li><strong>Dynamic NAT</strong> ‚Üí 1 private ‚Üî first available public from a pool (temporary).</li>
      <li><strong>PAT (Port Address Translation)</strong> ‚Üí Many private IPs share 1 public; NAT gateway tracks Source IP+Port and rewrites to Public IP+Port. Your home Router is a good example.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="Ô∏è-ddos-attacks-3-categories">üõ°Ô∏è DDoS Attacks (3 categories)</h2>

<ol>
  <li><strong>Volumetric</strong> ‚Üí Flood bandwidth.</li>
  <li><strong>Protocol</strong> ‚Üí Abuse protocol weaknesses (SYN flood, Smurf).</li>
  <li><strong>Application</strong> ‚Üí Target app layer (HTTP flood).</li>
</ol>

<hr />

<h2 id="-bgp-border-gateway-protocol">üåç BGP (Border Gateway Protocol)</h2>

<p>Think of the internet as a <strong>network of networks</strong>:</p>

<ul>
  <li>Each big network (Google, Amazon, your ISP) is an <strong>Autonomous System (AS)</strong>.</li>
  <li>Each AS has a unique number, called an <strong>ASN</strong> (e.g., Google = <strong>AS15169</strong>, Amazon = <strong>AS16509</strong>).</li>
  <li>Inside an AS, the company controls all routing policies.</li>
  <li>Between ASes, they must <strong>talk to each other</strong> ‚Üí that‚Äôs what <strong>BGP (Border Gateway Protocol)</strong> does.</li>
</ul>

<table class="study-table">
<thead>
<tr>
<th>Term</th>
<th>What it Means</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>AS (Autonomous System)</td>
<td>A collection of IP networks under one admin with one routing policy.</td>
<td>Google's AS15169, Amazon's AS16509, Cloudflare's AS13335</td>
</tr>
<tr>
<td>ASN</td>
<td>Autonomous System Number (unique ID).</td>
<td>Public (IANA/RIR assigned) / Private (64512‚Äì65534)</td>
</tr>
<tr>
<td>BGP</td>
<td>Protocol that connects ASes by exchanging route info.</td>
<td>Runs over TCP/179</td>
</tr>
<tr>
<td>iBGP</td>
<td>Routing <strong>inside</strong> an AS.</td>
<td>Google moving traffic between data centers.</td>
</tr>
<tr>
<td>eBGP</td>
<td>Routing <strong>between</strong> ASes.</td>
<td>ISP ‚Üî Google ‚Üî Amazon connections.</td>
</tr>
<tr>
<td>ASPATH</td>
<td>A list of AS hops to reach a network (shortest path usually wins).</td>
<td>Client ‚Üí ISP (AS123) ‚Üí Google (AS15169).</td>
</tr>
<tr>
<td>Tricks/Policies</td>
<td>Control routing with ASPATH prepending, filtering, or peering vs transit deals.</td>
<td>ISP may "prefer" cheaper peering routes.</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="-jumbo-frames">üì¶ Jumbo Frames</h2>

<ul>
  <li>Default MTU = 1500 bytes; Jumbo = 9000 bytes.</li>
  <li>Benefits: less overhead, higher throughput.</li>
  <li><strong>Limitations:</strong> Not supported over internet, VPN, or inter-region peering.</li>
  <li><strong>Supported:</strong> Same-region peering, Direct Connect, TGW.</li>
</ul>

<hr />

<h2 id="-layer-7---firewall">üîê Layer 7 - Firewall</h2>

<ul>
  <li>Traditional firewalls work at L3/L4 (IP, ports) or L5 (stateful sessions).</li>
  <li>
    <p><strong>L7 Firewall:</strong> Understands app protocols (HTTP, DNS, etc.).</p>

    <ul>
      <li>Detects protocol-specific attacks (e.g., HTTP floods).</li>
      <li>Can filter by headers, content, rates.</li>
    </ul>
  </li>
  <li>Example: AWS CloudFront with WAF for HTTP filtering.</li>
</ul>

<hr />

<h2 id="casting">Casting</h2>

<table class="study-table">
<thead>
<tr>
<th>Cast Type</th>
<th>Who Receives</th>
<th>Example</th>
<th>OSI Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Broadcast</strong></td>
<td>Everyone in subnet</td>
<td>ARP requests</td>
<td>L2</td>
</tr>
<tr>
<td><strong>Unicast</strong></td>
<td>One specific host</td>
<td>Accessing a website</td>
<td>L3 (IP)</td>
</tr>
<tr>
<td><strong>Multicast</strong></td>
<td>Group of hosts (opt-in)</td>
<td>IPTV, video conference</td>
<td>L3 (IP Multicast)</td>
</tr>
<tr>
<td><strong>Anycast</strong></td>
<td>Closest host (routing)</td>
<td>DNS root servers</td>
<td>L3</td>
</tr>
<tr>
<td><strong>Geocast</strong></td>
<td>Hosts in a region</td>
<td>Vehicle-to-vehicle alerts</td>
<td>L3 (conceptual)</td>
</tr>
</tbody>
</table>

<p>VLAN - Draws a invisible boundary inside the same Physical Switch, allowing L2 Broadcast to be ‚ÄúVLAN‚Äù Specific. This is done by VLAN tagging (IEEE 802.1Q) inserts a 4-byte header into the Ethernet frame between the Source MAC and EtherType, containing a 12-bit VLAN ID that tells switches which VLAN the frame belongs to.</p>

    </article>
  </main>

  <!-- Floating Table of Contents -->
  <div id="floating-toc" class="floating-toc">
    <div class="toc-icon">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="8" y1="6" x2="21" y2="6"></line>
        <line x1="8" y1="12" x2="21" y2="12"></line>
        <line x1="8" y1="18" x2="21" y2="18"></line>
        <line x1="3" y1="6" x2="3.01" y2="6"></line>
        <line x1="3" y1="12" x2="3.01" y2="12"></line>
        <line x1="3" y1="18" x2="3.01" y2="18"></line>
      </svg>
    </div>
    <div class="toc-content">
      <div class="toc-header">
        <span>Contents</span>
        <button class="toc-close" aria-label="Close table of contents">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <nav class="toc-nav" id="toc-nav">
        <!-- Generated by JavaScript -->
      </nav>
    </div>
  </div>

  <footer class="site-footer">
    <span>¬© 2025 glucolte ‚Ä¢ </span>
    <a href="https://github.com/gLuColte/glucolte.github.io">source</a>
  </footer>

  <script>
    // Initialize highlight.js and floating TOC after the DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      hljs.highlightAll();
      
      // Floating TOC functionality - only show on sub-study pages
      const floatingToc = document.getElementById('floating-toc');
      const tocNav = document.getElementById('toc-nav');
      const tocClose = document.querySelector('.toc-close');
      
      // Check if we're on a sub-study page (not the main study index)
      const isSubStudyPage = window.location.pathname !== '/study/' && 
                            window.location.pathname !== '/study' && 
                            window.location.pathname.startsWith('/study/');
      
      if (floatingToc && tocNav && isSubStudyPage) {
        // Generate TOC from headings
        function generateTOC() {
          const headings = document.querySelectorAll('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6');
          if (headings.length === 0) {
            floatingToc.style.display = 'none';
            return;
          }
          
          const tocList = document.createElement('ul');
          let currentLevel = 0;
          let currentList = tocList;
          const listStack = [tocList];
          
          headings.forEach((heading, index) => {
            const level = parseInt(heading.tagName.charAt(1));
            const id = heading.id || `heading-${index}`;
            
            // Ensure heading has an ID
            if (!heading.id) {
              heading.id = id;
            }
            
            // Create list item
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = `#${id}`;
            link.textContent = heading.textContent.trim();
            link.addEventListener('click', function(e) {
              e.preventDefault();
              const targetElement = document.getElementById(id);
              if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // Close TOC after clicking
                floatingToc.classList.remove('toc-open');
              }
            });
            
            listItem.appendChild(link);
            
            // Handle nesting
            if (level > currentLevel) {
              // Go deeper
              for (let i = currentLevel; i < level; i++) {
                const newList = document.createElement('ul');
                currentList.appendChild(newList);
                listStack.push(newList);
                currentList = newList;
              }
            } else if (level < currentLevel) {
              // Go shallower
              for (let i = currentLevel; i > level; i--) {
                listStack.pop();
                currentList = listStack[listStack.length - 1];
              }
            }
            
            currentList.appendChild(listItem);
            currentLevel = level;
          });
          
          tocNav.appendChild(tocList);
        }
        
        // Generate the TOC
        generateTOC();
        
        // Handle close button
        if (tocClose) {
          tocClose.addEventListener('click', function() {
            floatingToc.classList.remove('toc-open');
          });
        }
        
        // Handle click on icon to toggle
        const tocIcon = document.querySelector('.toc-icon');
        if (tocIcon) {
          tocIcon.addEventListener('click', function() {
            floatingToc.classList.toggle('toc-open');
          });
        }
        
        // Active section highlighting
        function updateActiveSection() {
          const headings = document.querySelectorAll('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6');
          const tocLinks = tocNav.querySelectorAll('a');
          
          // Remove active class from all links
          tocLinks.forEach(link => link.classList.remove('active'));
          
          // Find the current section
          let currentHeading = null;
          const scrollPosition = window.scrollY + 100; // Offset for better UX
          
          for (let i = headings.length - 1; i >= 0; i--) {
            const heading = headings[i];
            const headingTop = heading.offsetTop;
            
            if (headingTop <= scrollPosition) {
              currentHeading = heading;
              break;
            }
          }
          
          // Add active class to current section
          if (currentHeading) {
            const activeLink = tocNav.querySelector(`a[href="#${currentHeading.id}"]`);
            if (activeLink) {
              activeLink.classList.add('active');
            }
          }
        }
        
        // Update active section on scroll
        let scrollTimeout;
        window.addEventListener('scroll', function() {
          if (scrollTimeout) {
            clearTimeout(scrollTimeout);
          }
          scrollTimeout = setTimeout(updateActiveSection, 10);
        });
        
        // Initial update
        updateActiveSection();
      } else if (floatingToc && !isSubStudyPage) {
        // Hide floating TOC on main study page
        floatingToc.style.display = 'none';
      }
      
      // Legacy TOC functionality (for existing markdown TOCs)
      const toc = document.querySelector('#markdown-toc');
      if (toc) {
        // Hide the floating TOC if there's already a markdown TOC
        if (floatingToc) {
          floatingToc.style.display = 'none';
        }
        
        // Create TOC container with header
        const tocContainer = document.createElement('div');
        tocContainer.className = 'toc-container';
        tocContainer.style.cssText = `
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 16px;
          margin: 20px 0;
          position: relative;
        `;
        
        // Add TOC header
        const tocHeader = document.createElement('h3');
        tocHeader.textContent = 'Table of Contents';
        tocHeader.style.cssText = `
          margin: 0 0 12px 0;
          font-size: 16px;
          font-weight: 600;
          color: #374151;
        `;
        
        // Add back to top button
        const backToTopBtn = document.createElement('button');
        backToTopBtn.textContent = '‚Üë Top';
        backToTopBtn.style.cssText = `
          position: absolute;
          top: 12px;
          right: 12px;
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          padding: 4px 8px;
          font-size: 12px;
          cursor: pointer;
          color: #6b7280;
          transition: all 0.2s ease;
        `;
        
        // Add hover effect for back to top button
        backToTopBtn.addEventListener('mouseenter', function() {
          this.style.background = '#f3f4f6';
          this.style.color = '#374151';
        });
        
        backToTopBtn.addEventListener('mouseleave', function() {
          this.style.background = '#ffffff';
          this.style.color = '#6b7280';
        });
        
        // Back to top functionality
        backToTopBtn.addEventListener('click', function() {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Style the TOC list
        toc.style.cssText = `
          margin: 0;
          padding: 0;
          font-size: 14px;
          line-height: 1.5;
        `;
        
        // Insert header and button into container
        tocContainer.appendChild(tocHeader);
        tocContainer.appendChild(backToTopBtn);
        tocContainer.appendChild(toc);
        
        // Replace the original TOC with the new container
        toc.parentNode.insertBefore(tocContainer, toc);
        tocContainer.appendChild(toc);
        
        // Add smooth scrolling to TOC links
        const tocLinks = toc.querySelectorAll('a');
        tocLinks.forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: 'smooth' });
            }
          });
        });
      }
    });
  </script>
</body>
</html>
